# Koromo Copy 개발자 문서

## 목표

Emacs와 같이 다재 다능한 유틸리티를 만드는 것을 목표로하고 있습니다. 첫 번째 릴리즈가 끝나면 플러그인 기능을 개발할 계획입니다.

## Commit Prefix

`Koromo Copy`의 커밋은 다음 리스트 중 하나의 `Prefix`를 가집니다. 이 리스트는 삭제는 되지 않으나, 추가될 수 있습니다. 또한 여기에 없는 `Prefix`는 `hitomi`, `exh`와 같이 직관적으로 이해할 수 있는 범주들이라 보면됩니다.

```
kc: 이하 해당하지 않는 모든 커밋
tidy: 파일이동, 삭제 관련
pys: 파이썬 스크립트
kcp: 프로그램 기반
net: 네트워크 통신
fs: 파일시스템 관련
ui: User Interface관련
db: 데이터베이스 관련
update: Version 업데이트
doc: 문서 업데이트
```

---

# 콘솔 (Console)

`Koromo Copy`를 `Debug`모드로 실행하면 자동으로 `Console`이 실행됩니다. `Console`은 프로그램의 모든 IO를 캡쳐하며, 작업, 오류를 보여줍니다. 또한 미리 정의된 명령을 이용해 사용자 정의 작업을 수행할 수 있습니다. `Koromo Copy`는 하나의 `Console`만을 지원하며, 두 개 이상의 `Console`창을 열 수 없습니다.

## 콘솔 구조

`Koromo Copy`의 `Console`은 `CommandLineParser`를 가지고 있습니다. 이 파서는 사용자 입력을 분석하여 각 최상위 명령 클래스로 인자들을 보냅니다. 첫 번재 인자는 최상위 명령 클래스의 요소 이름이여야하며, 두 번째 부터 각 최상위 명령 클래스가 필요로하는 인자들을 포함해야합니다. 각 최상위 명령 클래스는 `--help` 인자를 기본으로 가집니다. 또한 하나의 파이프라인 명령을 포함하고 있습니다. 파이프라인 명령은 `>` 명령 하나이며, `A > B`와 같이 표현할 수 있습니다. `A > B` 명령어는 `A`의 Output을 `B`의 인자로 보내란 명령입니다.

## 명령어

다음은 `Koromo Copy Console`에서 사용가능한 명령어를 정리한 것입니다. 모든 명령어는 특정 최상위 명령 클래스와 연결됩니다. 이 리다이렉션은 `Console.cs::Loop()` 함수의 `Dictionary`에 정의되어있습니다.

| 명령어 | 설명 |
| ------|-------|
|hitomi|히토미와 관련된 모든 명령을 포함합니다.|
|exh|익헨과 관련된 모든 명령을 포함합니다.|
|grep|일반문자열이나 정규표현식으로 검색가능한 grep 도구입니다.|
|out|파일 쓰기에 관련한 명령을 포함합니다.|
